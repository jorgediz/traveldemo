traveldemo
----------

Automation for a travel site


Preconditions:

 Java 8 should be installed
 The default browser for selenium webdriver should be working properly (usually fir_efox)
 A recent version of Git should be installed.
 
 
 Instructions:
 
 Clone the repository. If Git is properly installed, run:
 
 git clone https://github.com/jorgediz/traveldemo.git
 
 Run the build command. It will auto-install gradle (the build system) and the build dependencies
 for the project:
 
 cd traveldemo
 ./gradlew clean test aggregate
 
After running it (will take about 15~20 minutes), the browseable test report will be available at
the page (where <projectdir> should be substituted accordingly:
 
file:///<projectdir>/target/site/serenity/index.html
 

Sample reports:

For illustration, sample reports from the last build were published using a continuous
integration setup based on Jenkins. This setup was done on my machine and is not included in GitHub, since its configuration is not trivial. A next step may be to encapsulate the jenkins server setup in a Docker container, to
be able to run it more easily. Additionally, the continuous integration job allows for video capture of the running test suite (which is not generated by the usual build).

Sample serenity test report:
https://rawgit.com/jorgediz/traveldemo/master/site/thucydidesReports/index.html

Sample Video of test suite running
https://rawgit.com/jorgediz/traveldemo/master/site/archive/traveldemo.html


Tools:

Gradle: https://gradle.org/ 
A build system that takes care of project dependencies. It auto-installs by using the gradle wrapper shell script in the build script.

Serenity: http://www.thucydides.info/#/
Provides most of the infrastructure for running tests using BDD idioms and concepts, and generates browseable reports of the test results, including screenshots and stack traces. It uses cucumber, junit and selenium web driver. It is specified as an automatic dependency in the build script.

Groovy: http://www.groovy-lang.org/
Used as the programmming language for utilities and step definitions. It leverages all Java libraries used by Serenity, but with code that is much less verbose for the tests. It is also automatically installed by the build script.


Project Sources and Artifacts:

SeachCheapestTravel.feature:
BDD-style feature and scenarios written in Gherkin

UserSentences.groovy
Map from feature sentences to steps, using the Cucumber-Java (not Cucumber-Groovy) conventions.

UserSteps.groovy
Repertoire of actions on page objects, called by the user sentences

HomePage.groovy
ResultsPage.groovy
Page objects using Serenity/webdriver conventions

target/site/serenity/index.html
Entry point of Serenity test reports, generated by the build

build/reports/tests/index.html
Entry point of junit test reports. The reports do not preserve the order of gherkin steps in the reports,
so they are not as readable as the Serenity reports. However, for some types of failures, the serenity report 
may not be generated and these reports are useful for troubleshooting  








